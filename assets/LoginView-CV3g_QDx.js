import{r as n,c as r,a as s,e as i,h as c,v as m,i as g,l as f,o as d}from"./index-BVVe0h6L.js";import{a as w}from"./index-NIGUFBhG.js";import{_ as v}from"./_plugin-vue_export-helper-DlAUqK2U.js";const b={id:"loginPage",class:"bg-yellow"},_={class:"conatiner loginPage vhContainer"},k={class:"formControls"},C={key:0},h="https://todolist-api.hexschool.io",x={__name:"LoginView",setup(y){const p=g("$swal"),e=n({email:"",password:""}),l=n({email:"",nickname:"",password:"",token:""}),u=async()=>{try{const t=await w.post(`${h}/users/sign_in`,e.value);console.log("signIn",t),document.cookie=`customTodoToken=${t.data.token}`,l.value=t.data,p("登入成功",`歡迎回來 ${l.value.nickname}`,"success"),window.location.href="#/"}catch(t){f.error(t.response.data.message,{autoClose:2e3})}};return(t,o)=>(d(),r("div",b,[s("div",_,[o[7]||(o[7]=s("div",{class:"side"},[s("a",{href:"#"},[s("img",{class:"logoImg",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:""})]),s("img",{class:"d-m-n",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/img.png",alt:"workImg"})],-1)),s("div",null,[s("form",k,[o[3]||(o[3]=s("h2",{class:"formControls_txt"},"最實用的線上代辦事項服務",-1)),o[4]||(o[4]=s("label",{class:"formControls_label",for:"email"},"Email",-1)),i(s("input",{class:"formControls_input",type:"text",id:"email","onUpdate:modelValue":o[0]||(o[0]=a=>e.value.email=a),name:"email",placeholder:"請輸入 email",required:""},null,512),[[m,e.value.email]]),e.value.email?c("",!0):(d(),r("span",C,"此欄位不可留空")),o[5]||(o[5]=s("label",{class:"formControls_label",for:"pwd"},"密碼",-1)),i(s("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd","onUpdate:modelValue":o[1]||(o[1]=a=>e.value.password=a),placeholder:"請輸入密碼",required:""},null,512),[[m,e.value.password]]),s("input",{class:"formControls_btnSubmit",type:"button",onClick:o[2]||(o[2]=a=>u()),value:"登入"}),o[6]||(o[6]=s("a",{class:"formControls_btnLink",href:"#register"},"註冊帳號",-1))])])])]))}},B=v(x,[["__scopeId","data-v-00cbf740"]]);export{B as default};
