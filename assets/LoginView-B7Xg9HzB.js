import{r as n,c as p,a as s,e as r,v as i,i as u,l as c,o as g}from"./index-ChNPYPWz.js";import{a as f}from"./index-NIGUFBhG.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";const v={id:"loginPage",class:"bg-yellow"},b={class:"conatiner loginPage vhContainer"},k={class:"formControls"},C="https://todolist-api.hexschool.io",x={__name:"LoginView",setup(_){const m=u("$swal"),e=n({email:"",password:""}),a=n({email:"",nickname:"",password:"",token:""}),d=async()=>{try{const t=await f.post(`${C}/users/sign_in`,e.value);console.log("signIn",t),document.cookie=`customTodoToken=${t.data.token}`,a.value=t.data,m("登入成功",`歡迎回來 ${a.value.nickname}`,"success"),window.location.href="#/"}catch(t){c.error(t.response.data.message,{autoClose:2e3})}};return(t,o)=>(g(),p("div",v,[s("div",b,[o[8]||(o[8]=s("div",{class:"side"},[s("a",{href:"#"},[s("img",{class:"logoImg",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:""})]),s("img",{class:"d-m-n",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/img.png",alt:"workImg"})],-1)),s("div",null,[s("form",k,[o[3]||(o[3]=s("h2",{class:"formControls_txt"},"最實用的線上代辦事項服務",-1)),o[4]||(o[4]=s("label",{class:"formControls_label",for:"email"},"Email",-1)),r(s("input",{class:"formControls_input",type:"text",id:"email","onUpdate:modelValue":o[0]||(o[0]=l=>e.value.email=l),name:"email",placeholder:"請輸入 email",required:""},null,512),[[i,e.value.email]]),o[5]||(o[5]=s("span",null,"此欄位不可留空",-1)),o[6]||(o[6]=s("label",{class:"formControls_label",for:"pwd"},"密碼",-1)),r(s("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd","onUpdate:modelValue":o[1]||(o[1]=l=>e.value.password=l),placeholder:"請輸入密碼",required:""},null,512),[[i,e.value.password]]),s("input",{class:"formControls_btnSubmit",type:"button",onClick:o[2]||(o[2]=l=>d()),value:"登入"}),o[7]||(o[7]=s("a",{class:"formControls_btnLink",href:"#register"},"註冊帳號",-1))])])])]))}},V=w(x,[["__scopeId","data-v-5bb62353"]]);export{V as default};
